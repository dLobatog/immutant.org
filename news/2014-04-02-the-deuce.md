---
title: The Deuce - Plans for Immutant 2 
author: Jim Crossley
layout: news
tags: [ thedeuce ]
---

We haven't blogged about anything in a few months because we've been
thinking about how we'd like to improve Immutant. Here are the chief
design goals:

* Just libraries; fully-functional; no container required
* Optionally deployable to a stock WildFly or EAP container

# Just Libraries #

For its second major release, Immutant will simply be a collection of
libraries, one for each of the commodity services available to
applications deployed to an Immutant 1.x container: web, scheduling,
messaging, caching, and transactions. These services will be provided
by the same components available in WildFly 8: Undertow, Quartz,
HornetQ, Infinispan, and Narayana, respectively.

So when you embed any Immutant 2.x library in your app, it will not
require a "container" to be fully-functional. There is no required
"installation" steps. There is no required "deployment" step.

Just libraries.

# Just WildFly/EAP #

Fully-functional libraries are great, but there are still good reasons
to deploy an app to a container, e.g. security, monitoring,
clustering, etc. We want developers to be able to run the exact same
application either outside or inside an app server. When outside, all
functions in the Immutant namespaces will work as expected. But
inside, you get more, automatically, without any changes to your code:

* Web session replication
* Load-balanced message distribution
* Highly-available "singleton" scheduled jobs
* Flexible Infinispan cache replication
* Multiple polyglot app deployments

Immutant 1.x consists of modules and subsystems repackaged on top of a
now-quite-old, forked AS7 distribution. AS7 is no longer under active
development, of course. All of the innovation is occurring in WildFly.
And it became increasingly difficult to cherry-pick relevant changes
into our fork.

So we're going to eliminate that headache in 2.x. Immutant
applications will be deployable into stock, vanilla WildFly/EAP
servers. No modules or subsystems or special deployment descriptors
required. Just a jar file with a little code to setup the classpath
and engage the container's services.

# Still Early, but Mature #

Immutant was inspired by its sister project, TorqueBox, under active
development for almost 6 years now. Embracing Clojure's REPL, we
strove to make Immutant's libraries more dynamic than TorqueBox. This
caused the features in each project to diverge somewhat, even though
we have a number of community members who use both together via
messaging, caching, etc.

So Immutant 2.x and TorqueBox 4.x also represents an opportunity for
both teams to work together to harden the service api's, with an eye
toward supporting other languages and service implementations in the
future. Please join us in either IRC channel, #torquebox or #immutant,
to express your opinions and desires.
